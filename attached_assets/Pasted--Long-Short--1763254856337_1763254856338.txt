طلب ترقية شاملة لبوت التداول على باينانس - تفعيل استراتيجيات التداول في الاتجاهين (Long & Short)

تحية طيبة وبعد،

بناءً على الأداء الحالي لبوت التداول الخاص بنا، وبعد تحليل معمق لمتطلبات السوق، نود طلب ترقية جوهرية للبوت لتحويله من نظام تداول أحادي الاتجاه إلى نظام احترافي متكامل قادر على تحقيق الربح في جميع ظروف السوق (الصاعدة والهابطة).

الهدف هو تزويد البوت بالقدرة على تنفيذ استراتيجيات البيع على المكشوف (Short Selling) بالإضافة إلى استراتيجيات الشراء الحالية (Long)، مع دمج هذا كله ضمن إطار عمل ذكي يتكيف تلقائياً مع حالة السوق.

هذه الترقية تتطلب العمل على حساب Binance Futures (العقود الآجلة).

المتطلبات الفنية والاستراتيجية للترقية:
1. التكامل مع واجهة برمجة تطبيقات Binance Futures API
	•	الإجراء: تعديل وحدة الاتصال (`binance_client`) لدعم واجهة برمجة تطبيقات العقود الآجلة.
	•	المتطلبات:
	◦	القدرة على فتح وإغلاق صفقات `LONG` و `SHORT`.
	◦	القدرة على ضبط وتعديل الرافعة المالية (Leverage) لكل زوج عملات.
	◦	القدرة على وضع أوامر وقف الخسارة (Stop-Loss) وجني الأرباح (Take-Profit) مخصصة لصفقات العقود الآجلة.
	◦	القدرة على جلب بيانات التمويل (Funding Rate) والمراكز المفتوحة (Open Interest).

2. تطوير منطق استراتيجية البيع على المكشوف (Short Selling Strategy)
يجب برمجة منطق “معاكس” تماماً لاستراتيجية الشراء الحالية، يتم تفعيله تلقائياً عندما يكتشف البوت أن السوق في حالة هابطة (`Bear Market`).

	•	شروط الدخول في صفقة بيع (Enter Short Signal):
	1.	تحديد حالة السوق: يجب أن يكون `Market Regime` هو `BEAR`.
	2.	المؤشرات الفنية (يجب تحققها مجتمعة):
	◦	مؤشر القوة النسبية (RSI) يرتفع فوق مستوى 75.
	◦	مؤشر ستوكاستيك (Stochastic Oscillator) يرتفع فوق مستوى 80.
	◦	السعر يلامس أو يخترق الشريط العلوي لمؤشر بولينجر باندز (Bollinger Bands).
	3.	فلتر تأكيد (اختياري ولكن مفضل): ظهور نمط شمعة هابط (مثل Bearish Engulfing) على إطار زمني متوسط (15 دقيقة).
	•	شروط الخروج من صفقة البيع (Exit Short / Cover Position):
	◦	يتم الخروج عند تحقق أحد الشروط التالية (أيهما أسبق):
	1.	جني الأرباح (Take-Profit): تحقيق نسبة ربح محددة مسبقاً (مثلاً 4%).
	2.	إشارة انعكاس: انخفاض مؤشر RSI إلى ما دون 30.
	3.	وقف الخسارة (Stop-Loss): وصول الصفقة إلى نسبة خسارة محددة (مثلاً 2%).

3. نظام إدارة المخاطر المتقدم للعقود الآجلة
	•	إدارة الرافعة المالية الديناميكية:
	◦	يجب أن تكون الرافعة المالية قابلة للتعديل في ملف الإعدادات (`config.json`).
	◦	التوصية المبدئية: البدء برافعة مالية منخفضة جداً (2x أو 3x) لجميع الصفقات.
	•	حجم الصفقة (Position Sizing):
	◦	يجب أن يستمر حساب حجم الصفقة كنسبة مئوية من رصيد المحفظة المتاح (مثلاً، 2-5% من رصيد USDT).
	•	وقف الخسارة المتحرك (Trailing Stop-Loss):
	◦	تطبيق آلية وقف خسارة متحرك لكل من صفقات الشراء والبيع لتعظيم الأرباح وحماية المكاسب.

4. تحديث وحدة التكيف مع حالة السوق (Market Regime Adaptation)
يجب أن يصبح هذا هو “العقل” الذي يقرر أي استراتيجية سيتم استخدامها:

	•	إذا كان `Market Regime = BULL`: يقوم البوت بتفعيل استراتيجية الشراء فقط (Long Only Mode).
	•	إذا كان `Market Regime = BEAR`: يقوم البوت بتفعيل استراتيجية البيع على المكشوف فقط (Short Only Mode).
	•	إذا كان `Market Regime = SIDEWAYS`: يمكن للبوت تفعيل كلتا الاستراتيجيتين بحذر، الشراء من مستويات الدعم القوية والبيع من مستويات المقاومة القوية.

5. تحديث لوحة التحكم (Dashboard)
يجب تحديث الواجهة الأمامية لعرض المعلومات الجديدة بوضوح:

	•	تمييز الصفقات: يجب تمييز صفقات `LONG` (مثلاً باللون الأخضر) وصفقات `SHORT` (مثلاً باللون الأحمر).
	•	عرض الرافعة المالية: عرض مستوى الرافعة المالية المستخدمة لكل صفقة.
	•	عرض بيانات العقود الآجلة: إضافة خانات لعرض “سعر التصفية” (Liquidation Price) و “هامش الربح والخسارة غير المحقق” (Unrealized P/L).

ملخص الأهداف (Key Deliverables):
	1.	بوت تداول متكامل يعمل على حساب Binance Futures.
	2.	القدرة على الربح من ارتفاع الأسعار (Long) وهبوطها (Short).
	3.	نظام ذكي يختار الاستراتيجية المناسبة تلقائياً بناءً على حالة السوق.
	4.	إدارة مخاطر متقدمة تشمل الرافعة المالية ووقف الخسارة المتحرك.
	5.	لوحة تحكم محدثة توفر رؤية كاملة وواضحة لجميع أنواع الصفقات.

نتطلع إلى العمل معكم لتحقيق هذه القفزة النوعية في قدرات البوت، وندرك أن هذا يتطلب خبرة متقدمة في تطوير أنظمة التداول. يرجى مراجعة المتطلبات وإعلامنا بالخطة الزمنية والتكلفة التقديرية لتنفيذ هذه الترقية الشاملة.

شكرًا لتعاونكم.